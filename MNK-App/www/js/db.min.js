var storeObject={DBUpdate:0,CSRKey:"",deviceStatus:"",oDataTimeOut:6e4,loggedInUser:null,showSelectRouteViewScreen:!0,selectedRoutePlanId:null,routePlans:null,routePlanDetails:null,selectedRoute:null,scannedItem:null,deliveryInvData:null,deliveryData:null,pickupData:null,pickupInvData:null,notInInventoryData:null,lastFocus:"serial",scannedLocations:[]},IKMobileDB={initialize:function(){var e=this;this.db=window.openDatabase("ikmobiledb","1.0","IK Mobile DB",1048576),this.db.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name='RoutePlan'",this.txErrorHandler,function(t,a){1==a.rows.length?console.log("Using existing database in local database"):(console.log("Tables does not exist in local database"),e.createProfile(),e.createTable(),console.log("Database Created"))})})},dropTable:function(){this.db.transaction(function(e){e.executeSql("DROP TABLE IF EXISTS synclog",this.txErrorHandler),e.executeSql("DROP TABLE IF EXISTS UserDetails",this.txErrorHandler),e.executeSql("DROP TABLE IF EXISTS RoutePlan",this.txErrorHandler),e.executeSql("DROP TABLE IF EXISTS RouteDetails",this.txErrorHandler),e.executeSql("DROP TABLE IF EXISTS Inventory",this.txErrorHandler),e.executeSql("DROP TABLE IF EXISTS DeliveryPickup",this.txErrorHandler),e.executeSql("DROP TABLE IF EXISTS Cylinders",this.txErrorHandler),console.log("Table dropped successfully from local database")})},deleteData:function(e){this.db.transaction(function(t){t.executeSql('DELETE FROM RoutePlan where flag=""',this.txErrorHandler),t.executeSql('DELETE FROM RouteDetails where flag=""',this.txErrorHandler),t.executeSql("DELETE FROM DeliveryPickup where flag is null",this.txErrorHandler),t.executeSql("DELETE FROM Inventory where flag is null",this.txErrorHandler),console.log("Old Data Deleted from local database"),e()})},getBackup:function(e){this.db.transaction(function(t){t.executeSql("DROP TABLE IF EXISTS RoutePlanBackup",this.txErrorHandler),t.executeSql("DROP TABLE IF EXISTS RouteDetailsBackup",this.txErrorHandler),t.executeSql("DROP TABLE IF EXISTS DeliveryPickupBackup",this.txErrorHandler),t.executeSql('Create temp table RoutePlanBackup as select * from RoutePlan where flag="" and newlyAdded is null',this.txErrorHandler),t.executeSql('Create temp table RouteDetailsBackup as select * from RouteDetails where flag="" and newlyAdded is null',this.txErrorHandler),t.executeSql("Create temp table DeliveryPickupBackup as select * from DeliveryPickup where flag is null and newlyAdded is null",this.txErrorHandler),console.log("Backup created"),e()})},createProfile:function(){this.db.transaction(function(e){var t="CREATE TABLE IF NOT EXISTS UserDetails ( UserId TEXT PRIMARY KEY, Password TEXT, LastLogIn TIMESTAMP DEFAULT CURRENT_TIMESTAMP)";e.executeSql(t,this.txErrorHandler,function(e,t){console.log("UserDetails Table Created")})})},createTable:function(){this.db.transaction(function(e){var t="CREATE TABLE IF NOT EXISTS synclog ( tablename TEXT PRIMARY KEY, lastsync TEXT)";e.executeSql(t);var t="CREATE TABLE IF NOT EXISTS RoutePlan ( RoutePlanId TEXT PRIMARY KEY, RoutePlan TEXT, RouteName TEXT, UserId TEXT, Comments TEXT, OdometerStartReading TEXT, OdometerEndReading TEXT, IsCompleted TEXT, DriverName TEXT, TruckMobile TEXT, flag TEXT, newlyAdded TEXT)";e.executeSql(t);var t="CREATE TABLE IF NOT EXISTS RouteDetails ( IndexId NUMBER, RoutePlanId TEXT, RouteId TEXT, RoutePlan_Line TEXT, Route TEXT, Location TEXT, Name TEXT, City TEXT, State TEXT, OrderNo TEXT, PlannedDeparture TEXT, PlannedArrival TEXT, Departure TEXT, Arrival TEXT, SpecialInstructions TEXT, CustomerName TEXT, CustomerSignature TEXT, flag TEXT, newlyAdded TEXT, PRIMARY KEY(RouteId, RoutePlan_Line))";e.executeSql(t);var t="CREATE TABLE IF NOT EXISTS Inventory ( RoutePlanId TEXT, ItemId TEXT PRIMARY KEY, Item TEXT, Description TEXT, CommitedQuantity NUMBER, TotalQuantity NUMBER, UOM TEXT, BatchNo TEXT, SerialNo TEXT, InventoryType TEXT, OrderNo TEXT, LineNo TEXT, Hours TEXT, flag TEXT, Location TEXT)";e.executeSql(t);var t="CREATE TABLE IF NOT EXISTS DeliveryPickup ( OrderNo TEXT, LineNo TEXT, ItemId TEXT, Item TEXT, Description TEXT, MaterialGrp TEXT, MaterialDesc TEXT, ExpectedQty NUMBER, ConfirmedQty NUMBER, Type TEXT, Hours TEXT, PickupComments TEXT, IsAdded TEXT, flag TEXT, newlyAdded TEXT, PRIMARY KEY(OrderNo,ItemId,Type))";e.executeSql(t);var t="CREATE TABLE IF NOT EXISTS SyncDetails ( RoutePlanId TEXT, RouteId TEXT PRIMARY KEY, Route TEXT, OrderNo TEXT, HeaderStatusFlag TEXT, InTransferFlag TEXT, ArrDepFlag TEXT, LineStatusFlag TEXT)";e.executeSql(t);var t="CREATE TABLE IF NOT EXISTS Cylinders (ItemId TEXT PRIMARY KEY, ItemNo TEXT)";e.executeSql(t),IKMobileDB.loadCylinders(),console.log("Tables Created Successfully")})},loadData:function(e,t){IKMobileDB.getBackup(function(){IKMobileDB.deleteData(function(){SapData.loadRoutePlan(e,t)})})},baseDataSyncLog:function(e){this.db.transaction(function(t){t.executeSql("INSERT OR REPLACE INTO synclog (tablename,lastsync) VALUES('"+e+"','"+currDate()+"')")})},loadUserDetails:function(e,t){this.db.transaction(function(a){var l="INSERT OR REPLACE INTO UserDetails ( UserId, Password) VALUES (?, ?)",T=[e,t];a.executeSql(l,T),console.log("UserDetails table Updated"),IKMobileDB.baseDataSyncLog("UserDetails")})},loadCylinders:function(){this.db.transaction(function(e){var t="INSERT OR REPLACE INTO Cylinders (ItemId, ItemNo) VALUES (?, ?)",a=["1","300-312"];e.executeSql(t,a);var a=["2","300-312T"];e.executeSql(t,a);var a=["3","300-302"];e.executeSql(t,a);var a=["4","300-302T"];e.executeSql(t,a),console.log("Cylinders table Updated")})},txErrorHandler:function(e){alert("Error occured in local database")},txSuccessHandler:function(e){}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbInN0b3JlT2JqZWN0IiwiREJVcGRhdGUiLCJDU1JLZXkiLCJkZXZpY2VTdGF0dXMiLCJvRGF0YVRpbWVPdXQiLCJsb2dnZWRJblVzZXIiLCJzaG93U2VsZWN0Um91dGVWaWV3U2NyZWVuIiwic2VsZWN0ZWRSb3V0ZVBsYW5JZCIsInJvdXRlUGxhbnMiLCJyb3V0ZVBsYW5EZXRhaWxzIiwic2VsZWN0ZWRSb3V0ZSIsInNjYW5uZWRJdGVtIiwiZGVsaXZlcnlJbnZEYXRhIiwiZGVsaXZlcnlEYXRhIiwicGlja3VwRGF0YSIsInBpY2t1cEludkRhdGEiLCJub3RJbkludmVudG9yeURhdGEiLCJsYXN0Rm9jdXMiLCJzY2FubmVkTG9jYXRpb25zIiwiSUtNb2JpbGVEQiIsImluaXRpYWxpemUiLCJzZWxmIiwidGhpcyIsImRiIiwid2luZG93Iiwib3BlbkRhdGFiYXNlIiwidHJhbnNhY3Rpb24iLCJ0eCIsImV4ZWN1dGVTcWwiLCJ0eEVycm9ySGFuZGxlciIsInJlc3VsdHMiLCJyb3dzIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZVByb2ZpbGUiLCJjcmVhdGVUYWJsZSIsImRyb3BUYWJsZSIsImRlbGV0ZURhdGEiLCJjYWxsYmFjayIsImdldEJhY2t1cCIsInNxbCIsImxvYWRDeWxpbmRlcnMiLCJsb2FkRGF0YSIsInVzZXJJZCIsIlNhcERhdGEiLCJsb2FkUm91dGVQbGFuIiwiYmFzZURhdGFTeW5jTG9nIiwidGFibGVuYW1lIiwiY3VyckRhdGUiLCJsb2FkVXNlckRldGFpbHMiLCJwYXNzIiwicGFyYW1zIiwiYWxlcnQiLCJ0eFN1Y2Nlc3NIYW5kbGVyIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxjQUNBQyxTQUFXLEVBQ1hDLE9BQU8sR0FDUEMsYUFBYSxHQUNiQyxhQUFjLElBQ2RDLGFBQWMsS0FDakJDLDJCQUEyQixFQUMzQkMsb0JBQXFCLEtBQ3JCQyxXQUFXLEtBQ1hDLGlCQUFpQixLQUNqQkMsY0FBYyxL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Q1QsR0FBSWMsR0FBSyx1RUFFTFcsR0FBVVIsRUFBT08sRUFDckJ4QixHQUFHQyxXQUFXYSxFQUFJVyxHQUVsQm5CLFFBQVFDLElBQUksNkJBQ1pmLFdBQVc0QixnQkFBZ0Isa0JBSW5ETCxjQUFjLFdBRVZwQixLQUFLQyxHQUFHRyxZQUNZLFNBQVNDLEdBQ1QsR0FBSWMsR0FBSyxrRUFFTFcsR0FBVSxJQUFJLFVBQ2xCekIsR0FBR0MsV0FBV2EsRUFBSVcsRUFFbEIsSUFBSUEsSUFBVSxJQUFJLFdBQ2xCekIsR0FBR0MsV0FBV2EsRUFBSVcsRUFFbEIsSUFBSUEsSUFBVSxJQUFJLFVBQ2xCekIsR0FBR0MsV0FBV2EsRUFBSVcsRUFFbEIsSUFBSUEsSUFBVSxJQUFJLFdBQ2xCekIsR0FBR0MsV0FBV2EsRUFBSVcsR0FFbEJuQixRQUFRQyxJQUFJLDhCQUdwQ0wsZUFBZ0IsU0FBU0YsR0FHckIwQixNQUFNLG9DQUdWQyxpQkFBa0IsU0FBUzNCIiwiZmlsZSI6ImRiLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIHN0b3JlT2JqZWN0ID0ge1xuICAgIERCVXBkYXRlIDogMCxcbiAgICBDU1JLZXk6JycsXG4gICAgZGV2aWNlU3RhdHVzOicnLFxuICAgIG9EYXRhVGltZU91dDogNjAwMDAsICAgLy8gVGltZW91dFxuICAgIGxvZ2dlZEluVXNlcjogbnVsbCxcblx0c2hvd1NlbGVjdFJvdXRlVmlld1NjcmVlbjogdHJ1ZSxcblx0c2VsZWN0ZWRSb3V0ZVBsYW5JZDogbnVsbCxcblx0cm91dGVQbGFuczpudWxsLFxuXHRyb3V0ZVBsYW5EZXRhaWxzOm51bGwsXG5cdHNlbGVjdGVkUm91dGU6bnVsbCxcblx0c2Nhbm5lZEl0ZW06bnVsbCxcblx0ZGVsaXZlcnlJbnZEYXRhOm51bGwsXG5cdGRlbGl2ZXJ5RGF0YTpudWxsLFxuXHRwaWNrdXBEYXRhOm51bGwsXG5cdHBpY2t1cEludkRhdGE6bnVsbCxcblx0bm90SW5JbnZlbnRvcnlEYXRhOm51bGwsXG5cdGxhc3RGb2N1czpcInNlcmlhbFwiLFxuXHRzY2FubmVkTG9jYXRpb25zOltdLFxufVxuXG52YXIgSUtNb2JpbGVEQiA9ICB7XG4gICAgXG5pbml0aWFsaXplOiBmdW5jdGlvbigpXG57XG4gICAgICAgIC8vYWxlcnQoXCJJbml0aWFsaXplXCIpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5kYiA9IHdpbmRvdy5vcGVuRGF0YWJhc2UoXCJpa21vYmlsZWRiXCIsIFwiMS4wXCIsIFwiSUsgTW9iaWxlIERCXCIsIDEwMjQqMTAyNCk7XG5cbiAgICB0aGlzLmRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXIgV0hFUkUgdHlwZT0ndGFibGUnIEFORCBuYW1lPSdSb3V0ZVBsYW4nXCIsIHRoaXMudHhFcnJvckhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMucm93cy5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGV4aXN0aW5nIGRhdGFiYXNlIGluIGxvY2FsIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGFibGVzIGRvZXMgbm90IGV4aXN0IGluIGxvY2FsIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZVByb2ZpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlVGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBDcmVhdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xufSxcbiAgICBcbmRyb3BUYWJsZTogZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTIHN5bmNsb2cnLCB0aGlzLnR4RXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTIFVzZXJEZXRhaWxzJywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyBSb3V0ZVBsYW4nLCB0aGlzLnR4RXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTIFJvdXRlRGV0YWlscycsIHRoaXMudHhFcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnRFJPUCBUQUJMRSBJRiBFWElTVFMgSW52ZW50b3J5JywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyBEZWxpdmVyeVBpY2t1cCcsIHRoaXMudHhFcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnRFJPUCBUQUJMRSBJRiBFWElTVFMgQ3lsaW5kZXJzJywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUYWJsZSBkcm9wcGVkIHN1Y2Nlc3NmdWxseSBmcm9tIGxvY2FsIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbn0sXG4gICAgXG5kZWxldGVEYXRhOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHRoaXMuZGIudHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gUm91dGVQbGFuIHdoZXJlIGZsYWc9XCJcIicsIHRoaXMudHhFcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gUm91dGVEZXRhaWxzIHdoZXJlIGZsYWc9XCJcIicsIHRoaXMudHhFcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnREVMRVRFIEZST00gRGVsaXZlcnlQaWNrdXAgd2hlcmUgZmxhZyBpcyBudWxsJywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSBJbnZlbnRvcnkgd2hlcmUgZmxhZyBpcyBudWxsJywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPbGQgRGF0YSBEZWxldGVkIGZyb20gbG9jYWwgZGF0YWJhc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbn0sXG4gICAgXG5nZXRCYWNrdXA6IGZ1bmN0aW9uKGNhbGxiYWNrKXtcbiAgICBcbiAgICB0aGlzLmRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RST1AgVEFCTEUgSUYgRVhJU1RTIFJvdXRlUGxhbkJhY2t1cCcsIHRoaXMudHhFcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnRFJPUCBUQUJMRSBJRiBFWElTVFMgUm91dGVEZXRhaWxzQmFja3VwJywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdEUk9QIFRBQkxFIElGIEVYSVNUUyBEZWxpdmVyeVBpY2t1cEJhY2t1cCcsIHRoaXMudHhFcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnQ3JlYXRlIHRlbXAgdGFibGUgUm91dGVQbGFuQmFja3VwIGFzIHNlbGVjdCAqIGZyb20gUm91dGVQbGFuIHdoZXJlIGZsYWc9XCJcIiBhbmQgbmV3bHlBZGRlZCBpcyBudWxsJywgdGhpcy50eEVycm9ySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdDcmVhdGUgdGVtcCB0YWJsZSBSb3V0ZURldGFpbHNCYWNrdXAgYXMgc2VsZWN0ICogZnJvbSBSb3V0ZURldGFpbHMgd2hlcmUgZmxhZz1cIlwiIGFuZCBuZXdseUFkZGVkIGlzIG51bGwnLCB0aGlzLnR4RXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0NyZWF0ZSB0ZW1wIHRhYmxlIERlbGl2ZXJ5UGlja3VwQmFja3VwIGFzIHNlbGVjdCAqIGZyb20gRGVsaXZlcnlQaWNrdXAgd2hlcmUgZmxhZyBpcyBudWxsIGFuZCBuZXdseUFkZGVkIGlzIG51bGwnLCB0aGlzLnR4RXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCYWNrdXAgY3JlYXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIFxufSxcbiAgICBcbmNyZWF0ZVByb2ZpbGU6ZnVuY3Rpb24oKXtcbiAgICAvL2FsZXJ0KFwiQ1JFQVRFIFBST0ZJTEVcIik7XG4gICAgdGhpcy5kYi50cmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1VzZXIgRGV0YWlscyB0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgVXNlckRldGFpbHMgKCBVc2VySWQgVEVYVCBQUklNQVJZIEtFWSwgUGFzc3dvcmQgVEVYVCwgTGFzdExvZ0luIFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwsdGhpcy50eEVycm9ySGFuZGxlcixmdW5jdGlvbih0eCxyZXN1bHRzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXJEZXRhaWxzIFRhYmxlIENyZWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbn0sXG4gICAgXG5jcmVhdGVUYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgLy9hbGVydChcIkNyZWF0ZVwiKTtcbiAgICB0aGlzLmRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3luY2xvZyB0YWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNxbCA9IFwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc3luY2xvZyAoIHRhYmxlbmFtZSBURVhUIFBSSU1BUlkgS0VZLCBsYXN0c3luYyBURVhUKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSb3V0ZVBsYW4gVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcWwgPVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgUm91dGVQbGFuICggUm91dGVQbGFuSWQgVEVYVCBQUklNQVJZIEtFWSwgUm91dGVQbGFuIFRFWFQsIFJvdXRlTmFtZSBURVhULCBVc2VySWQgVEVYVCwgQ29tbWVudHMgVEVYVCwgT2RvbWV0ZXJTdGFydFJlYWRpbmcgVEVYVCwgT2RvbWV0ZXJFbmRSZWFkaW5nIFRFWFQsIElzQ29tcGxldGVkIFRFWFQsIERyaXZlck5hbWUgVEVYVCwgVHJ1Y2tNb2JpbGUgVEVYVCwgZmxhZyBURVhULCBuZXdseUFkZGVkIFRFWFQpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHNxbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJvdXRlRGV0YWlscyBUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNxbCA9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBSb3V0ZURldGFpbHMgKCBJbmRleElkIE5VTUJFUiwgUm91dGVQbGFuSWQgVEVYVCwgUm91dGVJZCBURVhULCBSb3V0ZVBsYW5fTGluZSBURVhULCBSb3V0ZSBURVhULCBMb2NhdGlvbiBURVhULCBOYW1lIFRFWFQsIENpdHkgVEVYVCwgU3RhdGUgVEVYVCwgT3JkZXJObyBURVhULCBQbGFubmVkRGVwYXJ0dXJlIFRFWFQsIFBsYW5uZWRBcnJpdmFsIFRFWFQsIERlcGFydHVyZSBURVhULCBBcnJpdmFsIFRFWFQsIFNwZWNpYWxJbnN0cnVjdGlvbnMgVEVYVCwgQ3VzdG9tZXJOYW1lIFRFWFQsIEN1c3RvbWVyU2lnbmF0dXJlIFRFWFQsIGZsYWcgVEVYVCwgbmV3bHlBZGRlZCBURVhULCBQUklNQVJZIEtFWShSb3V0ZUlkLCBSb3V0ZVBsYW5fTGluZSkpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHNxbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludmVudG9yeSBUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNxbCA9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBJbnZlbnRvcnkgKCBSb3V0ZVBsYW5JZCBURVhULCBJdGVtSWQgVEVYVCBQUklNQVJZIEtFWSwgSXRlbSBURVhULCBEZXNjcmlwdGlvbiBURVhULCBDb21taXRlZFF1YW50aXR5IE5VTUJFUiwgVG90YWxRdWFudGl0eSBOVU1CRVIsIFVPTSBURVhULCBCYXRjaE5vIFRFWFQsIFNlcmlhbE5vIFRFWFQsIEludmVudG9yeVR5cGUgVEVYVCwgT3JkZXJObyBURVhULCBMaW5lTm8gVEVYVCwgSG91cnMgVEVYVCwgZmxhZyBURVhULCBMb2NhdGlvbiBURVhUKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxpdmVyeVBpY2t1cCBUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNxbCA9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBEZWxpdmVyeVBpY2t1cCAoIE9yZGVyTm8gVEVYVCwgTGluZU5vIFRFWFQsIEl0ZW1JZCBURVhULCBJdGVtIFRFWFQsIERlc2NyaXB0aW9uIFRFWFQsIE1hdGVyaWFsR3JwIFRFWFQsIE1hdGVyaWFsRGVzYyBURVhULCBFeHBlY3RlZFF0eSBOVU1CRVIsIENvbmZpcm1lZFF0eSBOVU1CRVIsIFR5cGUgVEVYVCwgSG91cnMgVEVYVCwgUGlja3VwQ29tbWVudHMgVEVYVCwgSXNBZGRlZCBURVhULCBmbGFnIFRFWFQsIG5ld2x5QWRkZWQgVEVYVCwgUFJJTUFSWSBLRVkoT3JkZXJObyxJdGVtSWQsVHlwZSkpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHNxbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN5bmNEZXRhaWxzIFRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3FsID1cIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFN5bmNEZXRhaWxzICggUm91dGVQbGFuSWQgVEVYVCwgUm91dGVJZCBURVhUIFBSSU1BUlkgS0VZLCBSb3V0ZSBURVhULCBPcmRlck5vIFRFWFQsIEhlYWRlclN0YXR1c0ZsYWcgVEVYVCwgSW5UcmFuc2ZlckZsYWcgVEVYVCwgQXJyRGVwRmxhZyBURVhULCBMaW5lU3RhdHVzRmxhZyBURVhUKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDeWxpbmRlcnMgVGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcWwgPVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgQ3lsaW5kZXJzIChJdGVtSWQgVEVYVCBQUklNQVJZIEtFWSwgSXRlbU5vIFRFWFQpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHNxbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIElLTW9iaWxlREIubG9hZEN5bGluZGVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGFibGVzIENyZWF0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAvL0lLTW9iaWxlREIubG9hZERhdGEoXCJNYWNcIik7XG59LFxuICAgIFxubG9hZERhdGE6ZnVuY3Rpb24odXNlcklkLGNhbGxiYWNrKXtcblxuICAgIElLTW9iaWxlREIuZ2V0QmFja3VwKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgSUtNb2JpbGVEQi5kZWxldGVEYXRhKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNhcERhdGEubG9hZFJvdXRlUGxhbih1c2VySWQsY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xufSxcbiAgICBcbmJhc2VEYXRhU3luY0xvZzogZnVuY3Rpb24odGFibGVuYW1lKXtcbiAgICAvL2FsZXJ0KFwiQmFzZVN5bmNsb2dcIik7XG4gICAgdGhpcy5kYi50cmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJJTlNFUlQgT1IgUkVQTEFDRSBJTlRPIHN5bmNsb2cgKHRhYmxlbmFtZSxsYXN0c3luYykgVkFMVUVTKCdcIit0YWJsZW5hbWUrXCInLCdcIitjdXJyRGF0ZSgpK1wiJylcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcbn0sXG4gICAgXG5sb2FkVXNlckRldGFpbHM6ZnVuY3Rpb24odXNlcklkLHBhc3Mpe1xuICAgIC8vYWxlcnQoXCJMb2FkaW5nIFVzZXIgRGV0YWlsc1wiKTtcbiAgICB0aGlzLmRiLnRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcWwgPVwiSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBVc2VyRGV0YWlscyAoIFVzZXJJZCwgUGFzc3dvcmQpIFZBTFVFUyAoPywgPylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFt1c2VySWQscGFzc107XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHNxbCxwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlckRldGFpbHMgdGFibGUgVXBkYXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgSUtNb2JpbGVEQi5iYXNlRGF0YVN5bmNMb2coJ1VzZXJEZXRhaWxzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbn0sXG5cbmxvYWRDeWxpbmRlcnM6ZnVuY3Rpb24oKXtcblxuICAgIHRoaXMuZGIudHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNxbCA9XCJJTlNFUlQgT1IgUkVQTEFDRSBJTlRPIEN5bGluZGVycyAoSXRlbUlkLCBJdGVtTm8pIFZBTFVFUyAoPywgPylcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFsnMScsXCIzMDAtMzEyXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwscGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFsnMicsXCIzMDAtMzEyVFwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoc3FsLHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbJzMnLFwiMzAwLTMwMlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoc3FsLHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbJzQnLFwiMzAwLTMwMlRcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKHNxbCxwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ3lsaW5kZXJzIHRhYmxlIFVwZGF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xufSxcbnR4RXJyb3JIYW5kbGVyOiBmdW5jdGlvbih0eCkge1xuICAgIC8vbmF2aWdhdG9yLm5vdGlmaWNhdGlvbi5hbGVydCh0eC5tZXNzYWdlLCBmdW5jdGlvbigpe30sIFwiRXJyb3JcIilcbiAgICAvL25hdmlnYXRvci5ub3RpZmljYXRpb24uYmVlcCgxKTtcbiAgICBhbGVydChcIkVycm9yIG9jY3VyZWQgaW4gbG9jYWwgZGF0YWJhc2VcIik7XG59LFxuICAgIFxudHhTdWNjZXNzSGFuZGxlcjogZnVuY3Rpb24odHgpIHtcbiAgICAvL2FsZXJ0KFwiU3VjY2Vzc1wiKTtcbn1cbiAgICBcbn07XG5cbiJdfQ==
