function SignatureCapture(t){this.touchSupported=Modernizr.touch,this.canvasID=t,this.canvas=$("#"+t),this.context=this.canvas.get(0).getContext("2d");var e=document.getElementById(t),n=(e.width+10,e.height,this.canvas.parent().innerWidth()),o=this.canvas.parent().innerHeight();this.context.lineWidth=1,this.lastMousePoint={x:0,y:0},this.canvas[0].width=this.canvas.parent().innerWidth(),this.canvas[0].height=this.canvas.parent().innerHeight(),this.touchSupported?(this.mouseDownEvent="touchstart",this.mouseMoveEvent="touchmove",this.mouseUpEvent="touchend"):(this.mouseDownEvent="mousedown",this.mouseMoveEvent="mousemove",this.mouseUpEvent="mouseup"),this.context.fillStyle="#FFFFFF",this.context.fillRect(0,0,n,o),this.canvas.bind(this.mouseDownEvent,this.onCanvasMouseDown())}SignatureCapture.prototype.onCanvasMouseDown=function(){var t=this;return function(e){t.mouseMoveHandler=t.onCanvasMouseMove(),t.mouseUpHandler=t.onCanvasMouseUp(),$(document).bind(t.mouseMoveEvent,t.mouseMoveHandler),$(document).bind(t.mouseUpEvent,t.mouseUpHandler),t.updateMousePosition(e),t.updateCanvas(e)}},SignatureCapture.prototype.onCanvasMouseMove=function(){var t=this;return function(e){return t.updateCanvas(e),e.preventDefault(),!1}},SignatureCapture.prototype.onCanvasMouseUp=function(t){var e=this;return function(t){$(document).unbind(e.mouseMoveEvent,e.mouseMoveHandler),$(document).unbind(e.mouseUpEvent,e.mouseUpHandler),e.mouseMoveHandler=null,e.mouseUpHandler=null}},SignatureCapture.prototype.updateMousePosition=function(t){var e;e=this.touchSupported?t.originalEvent.touches[0]:t;var n=this.canvas.offset();this.lastMousePoint.x=e.pageX-n.left,this.lastMousePoint.y=e.pageY-n.top},SignatureCapture.prototype.updateCanvas=function(t){this.context.beginPath(),this.context.moveTo(this.lastMousePoint.x,this.lastMousePoint.y),this.updateMousePosition(t),this.context.lineTo(this.lastMousePoint.x,this.lastMousePoint.y),this.context.strokeStyle="blue",this.context.stroke()},SignatureCapture.prototype.toString=function(){var t=this.canvas.get(0).toDataURL("image/jpeg",.1),e=t.indexOf(",")+1;return t=t.substring(e)},SignatureCapture.prototype.clear=function(){var t=this.canvas[0];this.context.clearRect(0,0,t.width,t.height),this.context.fillStyle="#FFFFFF",this.context.fillRect(0,0,t.width,t.height)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ25hdHVyZUNhcHR1cmUuanMiXSwibmFtZXMiOlsiU2lnbmF0dXJlQ2FwdHVyZSIsImNhbnZhc0lEIiwidGhpcyIsInRvdWNoU3VwcG9ydGVkIiwiTW9kZXJuaXpyIiwidG91Y2giLCJjYW52YXMiLCIkIiwiY29udGV4dCIsImdldCIsImdldENvbnRleHQiLCJvQ2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZpbGxXaWR0aCIsIndpZHRoIiwiaGVpZ2h0IiwicGFyZW50IiwiaW5uZXJXaWR0aCIsImZpbGxIZWlnaHQiLCJpbm5lckhlaWdodCIsImxpbmVXaWR0aCIsImxhc3RNb3VzZVBvaW50IiwieCIsInkiLCJtb3VzZURvd25FdmVudCIsIm1vdXNlTW92ZUV2ZW50IiwibW91c2VVcEV2ZW50IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJiaW5kIiwib25DYW52YXNNb3VzZURvd24iLCJwcm90b3R5cGUiLCJzZWxmIiwiZXZlbnQiLCJtb3VzZU1vdmVIYW5kbGVyIiwib25DYW52YXNNb3VzZU1vdmUiLCJtb3VzZVVwSGFuZGxlciIsIm9uQ2FudmFzTW91c2VVcCIsInVwZGF0ZU1vdXNlUG9zaXRpb24iLCJ1cGRhdGVDYW52YXMiLCJwcmV2ZW50RGVmYXVsdCIsInVuYmluZCIsInRhcmdldCIsIm9yaWdpbmFsRXZlbnQiLCJ0b3VjaGVzIiwib2Zmc2V0IiwicGFnZVgiLCJsZWZ0IiwicGFnZVkiLCJ0b3AiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsInRvU3RyaW5nIiwiZGF0YVN0cmluZyIsInRvRGF0YVVSTCIsImluZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImNsZWFyIiwiYyIsImNsZWFyUmVjdCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBU0Esa0JBQWtCQyxHQUN2QkMsS0FBS0MsZUFBaUJDLFVBQVVDLE1BQ2hDSCxLQUFLRCxTQUFXQSxFQUNoQkMsS0FBS0ksT0FBU0Ms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QUUvQixHQUFJQyxHQUFJN0QsS0FBS0ksT0FBTyxFQUNwQkosTUFBS00sUUFBUXdELFVBQVcsRUFBRyxFQUFHRCxFQUFFaEQsTUFBT2dELEVBQUUvQyxRQUN6Q2QsS0FBS00sUUFBUW9CLFVBQVksVUFDekIxQixLQUFLTSxRQUFRcUIsU0FBUyxFQUFHLEVBQUdrQyxFQUFFaEQsTUFBT2dELEVBQUUvQyIsImZpbGUiOiJzaWduYXR1cmVDYXB0dXJlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFNpZ25hdHVyZUNhcHR1cmUoIGNhbnZhc0lEICkge1xuICAgIHRoaXMudG91Y2hTdXBwb3J0ZWQgPSBNb2Rlcm5penIudG91Y2g7XG4gICAgdGhpcy5jYW52YXNJRCA9IGNhbnZhc0lEO1xuICAgIHRoaXMuY2FudmFzID0gJChcIiNcIitjYW52YXNJRCk7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0KDApLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBcbiAgICB2YXIgb0NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lEKTtcbiAgICBcbiAgICB2YXIgaVdpZHRoID0gb0NhbnZhcy53aWR0aCArIDEwO1xuICAgIHZhciBpSGVpZ2h0ID0gb0NhbnZhcy5oZWlnaHQ7XG4gICAgXG4gICAgdmFyIGZpbGxXaWR0aCA9IHRoaXMuY2FudmFzLnBhcmVudCgpLmlubmVyV2lkdGgoKTtcbiAgICB2YXIgZmlsbEhlaWdodCA9IHRoaXMuY2FudmFzLnBhcmVudCgpLmlubmVySGVpZ2h0KCk7XG4gICAgXG4gICAgdGhpcy5jb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgdGhpcy5sYXN0TW91c2VQb2ludCA9IHt4OjAsIHk6MH07XG4gICAgXG4gICAgdGhpcy5jYW52YXNbMF0ud2lkdGggPSB0aGlzLmNhbnZhcy5wYXJlbnQoKS5pbm5lcldpZHRoKCk7XG4gICAgdGhpcy5jYW52YXNbMF0uaGVpZ2h0ID0gdGhpcy5jYW52YXMucGFyZW50KCkuaW5uZXJIZWlnaHQoKTtcbiAgICBcbiAgICBpZiAodGhpcy50b3VjaFN1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLm1vdXNlRG93bkV2ZW50ID0gXCJ0b3VjaHN0YXJ0XCI7XG4gICAgICAgIHRoaXMubW91c2VNb3ZlRXZlbnQgPSBcInRvdWNobW92ZVwiO1xuICAgICAgICB0aGlzLm1vdXNlVXBFdmVudCA9IFwidG91Y2hlbmRcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMubW91c2VEb3duRXZlbnQgPSBcIm1vdXNlZG93blwiO1xuICAgICAgICB0aGlzLm1vdXNlTW92ZUV2ZW50ID0gXCJtb3VzZW1vdmVcIjtcbiAgICAgICAgdGhpcy5tb3VzZVVwRXZlbnQgPSBcIm1vdXNldXBcIjtcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiI0ZGRkZGRlwiO1xuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCBmaWxsV2lkdGgsIGZpbGxIZWlnaHQpO1xuICAgIHRoaXMuY2FudmFzLmJpbmQoIHRoaXMubW91c2VEb3duRXZlbnQsIHRoaXMub25DYW52YXNNb3VzZURvd24oKSApO1xufVxuXG5TaWduYXR1cmVDYXB0dXJlLnByb3RvdHlwZS5vbkNhbnZhc01vdXNlRG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHNlbGYubW91c2VNb3ZlSGFuZGxlciA9IHNlbGYub25DYW52YXNNb3VzZU1vdmUoKVxuICAgICAgICBzZWxmLm1vdXNlVXBIYW5kbGVyID0gc2VsZi5vbkNhbnZhc01vdXNlVXAoKVxuICAgICAgICBcbiAgICAgICAgJChkb2N1bWVudCkuYmluZCggc2VsZi5tb3VzZU1vdmVFdmVudCwgc2VsZi5tb3VzZU1vdmVIYW5kbGVyICk7XG4gICAgICAgICQoZG9jdW1lbnQpLmJpbmQoIHNlbGYubW91c2VVcEV2ZW50LCBzZWxmLm1vdXNlVXBIYW5kbGVyICk7XG4gICAgICAgIFxuICAgICAgICBzZWxmLnVwZGF0ZU1vdXNlUG9zaXRpb24oIGV2ZW50ICk7XG4gICAgICAgIHNlbGYudXBkYXRlQ2FudmFzKCBldmVudCApO1xuICAgIH1cbn1cblxuU2lnbmF0dXJlQ2FwdHVyZS5wcm90b3R5cGUub25DYW52YXNNb3VzZU1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBcbiAgICAgICAgc2VsZi51cGRhdGVDYW52YXMoIGV2ZW50ICk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cblNpZ25hdHVyZUNhcHR1cmUucHJvdG90eXBlLm9uQ2FudmFzTW91c2VVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgXG4gICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCggc2VsZi5tb3VzZU1vdmVFdmVudCwgc2VsZi5tb3VzZU1vdmVIYW5kbGVyICk7XG4gICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCggc2VsZi5tb3VzZVVwRXZlbnQsIHNlbGYubW91c2VVcEhhbmRsZXIgKTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYubW91c2VNb3ZlSGFuZGxlciA9IG51bGw7XG4gICAgICAgIHNlbGYubW91c2VVcEhhbmRsZXIgPSBudWxsO1xuICAgIH1cbn1cblxuU2lnbmF0dXJlQ2FwdHVyZS5wcm90b3R5cGUudXBkYXRlTW91c2VQb3NpdGlvbiA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB0YXJnZXQ7XG4gICAgaWYgKHRoaXMudG91Y2hTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGFyZ2V0ID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBldmVudDtcbiAgICB9XG4gICAgXG4gICAgdmFyIG9mZnNldCA9IHRoaXMuY2FudmFzLm9mZnNldCgpO1xuICAgIHRoaXMubGFzdE1vdXNlUG9pbnQueCA9IHRhcmdldC5wYWdlWCAtIG9mZnNldC5sZWZ0O1xuICAgIHRoaXMubGFzdE1vdXNlUG9pbnQueSA9IHRhcmdldC5wYWdlWSAtIG9mZnNldC50b3A7XG4gICAgXG59XG5cblNpZ25hdHVyZUNhcHR1cmUucHJvdG90eXBlLnVwZGF0ZUNhbnZhcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIFxuICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICB0aGlzLmNvbnRleHQubW92ZVRvKCB0aGlzLmxhc3RNb3VzZVBvaW50LngsIHRoaXMubGFzdE1vdXNlUG9pbnQueSApO1xuICAgIHRoaXMudXBkYXRlTW91c2VQb3NpdGlvbiggZXZlbnQgKTtcbiAgICB0aGlzLmNvbnRleHQubGluZVRvKCB0aGlzLmxhc3RNb3VzZVBvaW50LngsIHRoaXMubGFzdE1vdXNlUG9pbnQueSApO1xuICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmx1ZVwiO1xuICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcbiAgICBcbiAgICBcbn1cblxuU2lnbmF0dXJlQ2FwdHVyZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgXG4gICAgdmFyIGRhdGFTdHJpbmcgPSB0aGlzLmNhbnZhcy5nZXQoMCkudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiLDAuMSk7XG4gICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKCBcIixcIiApKzE7XG4gICAgZGF0YVN0cmluZyA9IGRhdGFTdHJpbmcuc3Vic3RyaW5nKCBpbmRleCApO1xuICAgIFxuICAgIHJldHVybiBkYXRhU3RyaW5nO1xufVxuXG5TaWduYXR1cmVDYXB0dXJlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICBcbiAgICB2YXIgYyA9IHRoaXMuY2FudmFzWzBdO1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoIDAsIDAsIGMud2lkdGgsIGMuaGVpZ2h0ICk7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IFwiI0ZGRkZGRlwiO1xuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCBjLndpZHRoLCBjLmhlaWdodCk7XG59XG4iXX0=
